(function(){"use strict";var t={3050:function(t,e,s){var a=s(144),o=s(998),r=s(3059),l=function(){var t=this,e=t._self._c;return e(o.Z,{staticClass:"page-color"},[e("toolbar"),e(r.Z,[e("router-view")],1)],1)},i=[],n=s(5716),c=s(5550),h=s(6190),u=s(9256),m=s(4324),d=s(5808),f=s(4525),p=s(4611),w=s(2177),g=s(4528),b=s(3687),x=s(7953),_=function(){var t=this,e=t._self._c;return e(n.Z,{attrs:{app:"",color:"primary"}},[e(u.Z,{staticClass:"py-0 fill-height"},[e(x.qW,[e(h.Z,[0===Object.keys(this.clientInfo).length?e("router-link",{staticClass:"black--text",staticStyle:{"text-decoration":"none"},attrs:{to:"/"}},[t._v("כניסה")]):e("div",{staticClass:"text-center"},[e(g.Z,{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e(h.Z,t._g(t._b({staticClass:"min-button black--text",attrs:{text:"",dark:""}},"v-btn",a,!1),s),[t._v(" "+t._s(t.clientInfo.name)+" "),e(m.Z,[t._v("mdi-chevron-down")])],1)]}}])},[e(d.Z,[e(f.Z,{attrs:{to:"/"},on:{click:t.logOut}},[t._v("יציאה")])],1)],1)],1)],1)],1),e(b.Z),e(x.lj,{staticClass:"hidden-sm-and-down"},t._l(t.menu,(function(s){return e(h.Z,{key:s.icon,attrs:{to:s.to,text:""}},[t._v(t._s(s.title))])})),1),e("div",{staticClass:"hidden-md-and-up"},[e(g.Z,{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e(h.Z,t._g(t._b({attrs:{dark:"",icon:""}},"v-btn",a,!1),s),[e(c.Z)],1)]}}])},[e(d.Z,t._l(t.menu,(function(s){return e(f.Z,{key:s.icon,attrs:{to:s.to}},[e(p.Z,[e(m.Z,{attrs:{small:""}},[t._v("mdi-"+t._s(s.icon))])],1),e(w.V9,[t._v(t._s(s.title))])],1)})),1)],1)],1)],1)],1)},y=[],v={name:"login",props:{},data(){return{sidebar:!1,menu:[{to:"/tables",title:"טבלה"},{to:"/fixtures",title:"התוצאות שלי"}]}},computed:{clientInfo(){return this.$store.state.clientInfo},items(){return this.$store.state.items}},methods:{logOut(){this.$store.commit("setItems",{}),console.log(this.items),localStorage["user"]&&(localStorage.removeItem("user"),this.$store.commit("increment",{}))}}},Z=v,k=s(1001),C=(0,k.Z)(Z,_,y,!1,null,null,null),T=C.exports,G=s(6748),S=s(1713),U=function(){var t=this,e=t._self._c;return e(r.Z,{staticClass:"mt-13"},[e(S.Z,{staticClass:"d-flex justify-space-around button-wrapper mx-auto"},[e(G.Z,{attrs:{tile:"",color:"deep-purple accent-3",group:""},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}},[e(h.Z,{attrs:{value:"true",disabled:"true"===t.text}},[t._v(" הטבלה שלנו ")]),e(h.Z,{attrs:{value:"false",disabled:"false"===t.text}},[t._v(" התוצאות שלנו ")])],1)],1),e("tables",{directives:[{name:"show",rawName:"v-show",value:"true"===t.text,expression:"text ==='true'"}]}),e("carousel",{directives:[{name:"show",rawName:"v-show",value:"false"===t.text,expression:"text === 'false'"}]})],1)},j=[],I=s(9449),P=function(){var t=this,e=t._self._c;return e(u.Z,{staticClass:"con-width"},[e(r.Z,{staticClass:""},[e(I.Z,{staticClass:"table mx-auto text-center",attrs:{"fixed-header":"","calculate-widths":""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead"),e("tbody",t._l(t.scoreByOrder,(function(s,a){return e("tr",{key:a,staticClass:"font-weight-bold title"},[e("td",{staticClass:"numbers pa-4"},[t._v(t._s(a+1))]),e("td",{staticClass:"name text-right"},[t._v(t._s(s.userName))]),e("td",{staticClass:"text-left"},[t._v(" "+t._s(s.points+" נקודות"))])])})),0)]},proxy:!0}])})],1)],1)},$=[],O=(s(7658),{name:"tablePoints",props:{},data(){return{score:[],dataGuess:[],number:[1,2,3,4,5,6,7,8]}},mounted(){this.userPoints(),this.$store.dispatch("fetchGames")},computed:{resultarr(){return this.$store.state.resultarr},items(){return this.$store.state.items},localHost(){return this.$store.state.localHost},scoreByOrder(){return this.score.sort(((t,e)=>t.points>e.points?-1:t.points<e.points?1:0))}},methods:{userPoints(){fetch("http://localhost:3000/users/register").then((t=>t.json())).then((t=>{for(let e=0;e<t.length;e++)this.score.push(t[e])}))},getUsersGusses(){console.log(this.index),fetch("http://localhost:3000/guesses/register").then((t=>t.json())).then((t=>{for(let e=0;e<t.length;e++)this.dataGuess.push(t[e])}))}}}),D=O,N=(0,k.Z)(D,P,$,!1,null,"2308618c",null),J=N.exports,A=s(3423),E=s(8230),H=s(6760),X=s(266),q=s(3201),B=function(){var t=this,e=t._self._c;return e(r.Z,{},[e("div",{staticClass:"carousel-wrapper"},[e(E.Z,{staticClass:"carousel-wrapper",attrs:{"hide-delimiters":"","hide-delimiter-background":"","show-arrows":""},on:{change:function(e){return t.getThisUserGusses(t.games[e].fixture.id)}}},t._l(t.gamesToShow,(function(s,a){return e(H.Z,{key:a},[e(S.Z,{staticClass:"mt-7 d-flex justify-space-between title teams-color"},[e(X.Z,{staticClass:"text-end",attrs:{cols:"2"}},[e(A.Z,[e("img",{attrs:{src:s.teams.home.logo}})])],1),e(X.Z,{staticClass:"text-end",attrs:{cols:"3"}},[t._v(" "+t._s(s.teams.home.name)+" ")]),e(X.Z,{staticClass:"text-center",attrs:{cols:"2"}},[t._v(" "+t._s(s.goals.away)+":"+t._s(s.goals.home)+" ")]),e(X.Z,{staticClass:"text-start",attrs:{cols:"3"}},[t._v(" "+t._s(s.teams.away.name)+" ")]),e(X.Z,{staticClass:"text-start",attrs:{cols:"2"}},[e(A.Z,[e("img",{attrs:{src:s.teams.away.logo}})])],1)],1),e(S.Z,{staticClass:"primary mt-10"},[e(q.Z,{attrs:{"child-flex":""}},[e(I.Z,{staticClass:"mx-auto text-center",attrs:{"fixed-header":"","calculate-widths":""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",{staticClass:""},[e("th",{staticClass:"text-center"},[t._v("דירוג")]),e("th",{staticClass:"text-center"},[t._v("שם")]),e(b.Z),e("th",{staticClass:"text-center"},[t._v("נקודות")]),e("th",{staticClass:"text-center"},[t._v("ניחוש")])],1)]),e("tbody",t._l(t.dataGuess,(function(s,a){return e("tr",{key:a,staticClass:"font-weight-bold title"},[e("td",{},[t._v(t._s(a+1))]),e("td",{},[t._v(t._s(s.userName))]),e(b.Z),e("td",{},[t._v(t._s(s.sum_points))]),e("td",{staticClass:"d-flex justify-center align-center"},[e("div",{staticClass:"res"},[t._v(" "+t._s(s.away_team_goals)+":"+t._s(s.home_team_goals)+" ")])])],1)})),0)]},proxy:!0}],null,!0)})],1)],1)],1)})),1)],1)])},F=[],L=s(629),M={name:"carousel",data(){return{dataGuess:[],index:null,currentTitle:null,diffBetweenArrays:null}},components:{tables:J},computed:{resultarr(){return this.$store.state.resultarr},users(){return this.$store.state.users},clientInfo(){return this.$store.state.clientInfo},items(){return this.$store.state.items},gamesToShow(){let t=(new Date).getTime(),e=this.games;for(let s=0;s<e.length;s++)Date.parse(e[s].fixture.date)>t&&e.splice(s);return e.sort(((t,e)=>t.fixture.date>e.fixture.date?-1:t.fixture.date<e.fixture.date?1:0))},localHost(){return this.$store.state.localHost},...(0,L.rn)(["games"])},mounted(){this.$store.dispatch("fetchGames")},methods:{test(){console.log(this.currentTitle)},getThisUserGusses(t){fetch(`http://localhost:3000/guesses/game/${t}`).then((t=>t.json())).then((t=>{this.dataGuess=t}))}}},R=M,z=(0,k.Z)(R,B,F,!1,null,null,null),Q=z.exports,W={name:"Tables",data(){return{showTable:!0,showResultsTable:!1,text:"true"}},components:{tables:J,carousel:Q},methods:{tableButton(){this.showTable=!1}}},V=W,K=(0,k.Z)(V,U,j,!1,null,"3587ca20",null),Y=K.exports,tt=function(){var t=this,e=t._self._c;return e(r.Z,[e("fixtures")],1)},et=[],st=s(9582),at=s(4886),ot=s(1267),rt=s(9422),lt=s(8088),it=function(){var t=this,e=t._self._c;return e(rt.Z,[e(u.Z,{staticClass:"page-color",attrs:{fluid:""}},[Object.keys(this.clientInfo).length>0?e(ot.Z,t._l(t.gamesToShow,(function(s,a){return e(st.Z,{key:a,staticClass:"mx-auto card-width mt-13",attrs:{"max-width":"600",flat:""}},[e(S.Z,{attrs:{dense:""}},[e(X.Z,{attrs:{cols:"12"}},[e(st.Z,{staticClass:"card-color",attrs:{theme:"dark",flat:""}},[e(at.Qq,{staticClass:"white--text text-center card-subtitle d-flex align-center"},[e(S.Z,[e(X.Z,{staticClass:"text-start",attrs:{cols:"6"}},[t._v(" "+t._s(s.league.round)+" ")]),e(X.Z,{staticClass:"text-end",attrs:{cols:"6"}},[t._v(" שריקת פתיחה: "+t._s(s.fixture.time)+" "+t._s(s.fixture.datetoShow)+" ")])],1)],1),e(at.h7,{staticClass:"card-actions font-weight-bold text-center white--text"},[e(ot.Z,{staticClass:"",attrs:{sm2:"",xs1:""}},[e(A.Z,[e("img",{attrs:{src:s.teams.home.logo},on:{click:function(e){return t.linkToHomeTeam(a)}}})])],1),e(ot.Z,{staticClass:"text-caption text-sm-h6 text-md-h6 text-lg-h6 text-center",attrs:{xs4:"",sm4:""}},[t._v(" "+t._s(s.teams.home.name)+" ")]),e(ot.Z,{staticClass:"",attrs:{xs2:""}},[null!==s.goals.away?e(q.Z,{staticClass:"custom-border-input"},[e(ot.Z,{staticClass:"text-end result-margin text-sm-h5",attrs:{cols:"4",xs4:""}},[t._v(" "+t._s(s.goals.home)+" ")]),e(ot.Z,{staticClass:"text-center result-margin text-sm-h5",attrs:{cols:"3",xs4:""}},[t._v(":")]),e(ot.Z,{staticClass:"text-start result-margin text-sm-h5",attrs:{cols:"4",xs4:""}},[t._v(" "+t._s(s.goals.away)+" ")])],1):e(q.Z,{staticClass:"custom-border-input"},[e(ot.Z,{staticClass:"user-score d-flex align-center result-margin4",attrs:{xs4:""}},[e(q.Z,[e(m.Z,{staticClass:"mb-8",attrs:{color:"pink"}},[t._v("mdi-grease-pencil")])],1),e(lt.Z,{staticClass:"custom-text-field1 text-end text-sm-h5 input2",model:{value:t.homeTeam[a],callback:function(e){t.$set(t.homeTeam,a,e)},expression:"homeTeam[i]"}})],1),e(ot.Z,{staticClass:"text-center text-sm-h5 result-margin3",attrs:{xs4:""}},[t._v(":")]),e(ot.Z,{staticClass:"user-score d-flex align-center result-margin4",attrs:{xs4:""}},[e(lt.Z,{staticClass:"custom-text-field1 text-sm-h5",model:{value:t.awayTeam[a],callback:function(e){t.$set(t.awayTeam,a,e)},expression:"awayTeam[i]"}})],1)],1)],1),e(ot.Z,{staticClass:"text-caption text-sm-h6 text-md-h6 text-lg-h6",attrs:{xs4:"",sm4:""}},[t._v(" "+t._s(s.teams.away.name)+" ")]),e(ot.Z,{attrs:{sm2:"",xs1:""}},[e(A.Z,[e("img",{attrs:{src:s.teams.away.logo},on:{click:function(e){return t.linkToAwayTeam(a)}}})])],1)],1),e(at.h7,{staticClass:"white--text card-actions2"},[null!==s.goals.away?e(ot.Z,{staticClass:"text-center",attrs:{sm5:"",xs5:"",cols:"5",sm:"5"}},[t._v("הניחוש שלי")]):e(ot.Z,{attrs:{cols:"4",sm:"5",sm5:"",xs1:""}}),e(ot.Z,{attrs:{sm2:""}},[null!==s.goals.away?e(q.Z,{staticClass:"custom-border-input2"},[e(ot.Z,{staticClass:"user-score d-flex align-center",attrs:{cols:"4",xs5:""}},[e(lt.Z,{staticClass:"custom-text-field input test",attrs:{disabled:""},model:{value:t.homeTeam[a],callback:function(e){t.$set(t.homeTeam,a,e)},expression:"homeTeam[i]"}})],1),e(ot.Z,{staticClass:"d-flex align-center input test3",attrs:{cols:"4",xs4:""}},[t._v(":")]),e(ot.Z,{staticClass:"user-score d-flex align-center input2 test2",attrs:{cols:"4",xs4:""}},[e(lt.Z,{staticClass:"custom-text-field text--start",attrs:{disabled:""},model:{value:t.awayTeam[a],callback:function(e){t.$set(t.awayTeam,a,e)},expression:"awayTeam[i]"}})],1)],1):e(q.Z,{staticClass:"d-flex justify-center"},[e("toast",{staticClass:"button-margin",attrs:{msg:t.toastText},on:{onClose:function(e){return t.keepGuess(a)}}},[t._v("שמור תוצאה ")])],1)],1),null!==s.goals.away?e(ot.Z,{staticClass:"font-weight-bold text-center points_color ms-5",attrs:{sm5:""}},[t._v(" "+t._s(s.fixture.points||0)+" נקודות ")]):t._e()],1)],1)],1)],1)],1)})),1):e(r.Z,[e(X.Z,{staticClass:"d-flex justify-center"},[e(h.Z,{attrs:{bottom:"",color:"#61e1a8  ",width:"350",height:"40"}},[t._v(" אתה לא משתמש רשום "),e("router-link",{staticClass:"font-weight-bold",staticStyle:{color:"black"},attrs:{to:"/"}},[t._v(" להרשמה ")])],1)],1)],1)],1)],1)},nt=[],ct=(s(6486),s(9258)),ht=function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center"},[e(h.Z,{staticClass:"red white--text button-size",on:{click:function(e){t.closeToDo(),t.snackbar=!0}}},[t._v(" שמור תוצאה ")]),e(ct.Z,{attrs:{timeout:t.timeout},scopedSlots:t._u([{key:"action",fn:function({attrs:s}){return[e(h.Z,t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",s,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.msg)+" ")])],1)},ut=[],mt={name:"toast",props:{msg:String},data:()=>({snackbar:!1,text:"נשמר בהצלחה",timeout:2e3}),methods:{closeToDo(){this.$emit("onClose")}}},dt=mt,ft=(0,k.Z)(dt,ht,ut,!1,null,null,null),pt=ft.exports,wt={name:"fixtures",components:{toast:pt},created(){},props:{},data(){return{alert:!1,temorGames:[],userGuessobj:{},userGuess:[],userresult:{},sumPoints:[],index:null,userPoints:null,homeTeam:[],awayTeam:[],currentUserDetail:[],dataGuess:[],dataGuessCopy:[],number:3,foundGameID:[],test:!0,rr:[],testarr:[],toastText:"",timeOver:!1,allUsersGuesses:[],allUsers:[],all:[],dataGuess2:[],reduceAllSumPoints:null}},created(){},beforeMount(){},mounted(){this.getAllUsers(),this.getAllUsersGuesses(3),this.getThisUserGusses(),this.$store.dispatch("fetchGames"),this.getUsers()},computed:{selected(){return this.games.map((t=>t.fixture.id))},resultarr(){return this.$store.state.resultarr},users(){return this.$store.state.users},clientInfo(){return this.$store.state.clientInfo},items(){return this.$store.state.items},gamesToShow(){for(let e=0;e<this.dataGuess2.length;e++)this.games.forEach(((t,s)=>{t.fixture.id==[e]&&(t.fixture.points=this.dataGuess2[e])}));let t=this.games;return t.reduce(((t,e,s)=>("שמינית גמר"!==e.league.round&&"רבע גמר"!==e.league.round||(t[s]=e),t)),{})},...(0,L.rn)(["games"])},methods:{linkToAwayTeam(t){let e=t;switch(e){case"185":window.location.href="https://www.365scores.com/he/football/england/tottenham/team/114";break;case"186":window.location.href="https://www.365scores.com/he/football/italy/ac-milan/team/227";break;case 3:window.location.href="https://www.365scores.com/he/football/england/tottenham/team/114";break;case"187":window.location.href="https://www.365scores.com/he/football/germany/bayern-munich/team/331";break;case"188":window.location.href="https://www.365scores.com/he/football/france/psg/team/480";break;case"189":window.location.href="https://www.365scores.com/he/football/portugal/benfica/team/888";break;case"190":window.location.href="https://www.365scores.com/he/football/belgium/club-brugge/team/1169";break;case"191":window.location.href="https://www.365scores.com/he/football/england/chelsea/team/106";break;case"192":window.location.href="https://www.365scores.com/he/football/germany/dortmund/team/341";break;case"193":window.location.href="https://www.365scores.com/he/football/spain/real-madrid/team/131";break;case"194":window.location.href="https://www.365scores.com/he/football/england/liverpool/team/108";break;case"195":window.location.href="https://www.365scores.com/he/football/italy/napoli/team/234";break;case"196":window.location.href="https://www.365scores.com/he/football/germany/eintracht-frankfurt/team/337";break;case"197":window.location.href="https://www.365scores.com/he/football/england/manchester-city/team/110";break;case"198":window.location.href="https://www.365scores.com/he/football/germany/rb-leipzig/team/7171";break;case"199":window.location.href="https://www.365scores.com/he/football/portugal/fc-porto/team/887";break;case"200":window.location.href="https://www.365scores.com/he/football/italy/inter-milan/team/224";break;default:}},linkToHomeTeam(t){let e=t;switch(e){case"186":window.location.href="https://www.365scores.com/he/football/england/tottenham/team/114";break;case"185":window.location.href="https://www.365scores.com/he/football/italy/ac-milan/team/227";break;case 3:window.location.href="https://www.365scores.com/he/football/england/tottenham/team/114";break;case"188":window.location.href="https://www.365scores.com/he/football/germany/bayern-munich/team/331";break;case"187":window.location.href="https://www.365scores.com/he/football/france/psg/team/480";break;case"189":window.location.href="https://www.365scores.com/he/football/belgium/club-brugge/team/1169";break;case"190":window.location.href="https://www.365scores.com/he/football/portugal/benfica/team/888";break;case"192":window.location.href="https://www.365scores.com/he/football/england/chelsea/team/106";break;case"191":window.location.href="https://www.365scores.com/he/football/germany/dortmund/team/341";break;case"194":window.location.href="https://www.365scores.com/he/football/spain/real-madrid/team/131";break;case"193":window.location.href="https://www.365scores.com/he/football/england/liverpool/team/108";break;case"196":window.location.href="https://www.365scores.com/he/football/italy/napoli/team/234";break;case"195":window.location.href="https://www.365scores.com/he/football/germany/eintracht-frankfurt/team/337";break;case"198":window.location.href="https://www.365scores.com/he/football/england/manchester-city/team/110";break;case"197":window.location.href="https://www.365scores.com/he/football/germany/rb-leipzig/team/7171";break;case"200":window.location.href="https://www.365scores.com/he/football/portugal/fc-porto/team/887";break;case"199":window.location.href="https://www.365scores.com/he/football/italy/inter-milan/team/224";break;default:}},async getAllUsersGuesses(t){const e=await fetch(`http://localhost:3000/guesses/${t}`),s=await e.json();return this.allUsersGuesses=s,console.log(this.allUsersGuesses),s},getThisUserGusses(){fetch(`http://localhost:3000/guesses/${this.clientInfo.id}`).then((t=>t.json())).then((t=>{console.log(t);for(let e=0;e<t.length;e++)this.dataGuess.push(t[e]),this.homeTeam[this.dataGuess[e].gameID]=this.dataGuess[e].home_team_goals,this.awayTeam[this.dataGuess[e].gameID]=this.dataGuess[e].away_team_goals,this.dataGuess2[t[e].gameID]=t[e].sum_points}))},addToUserGueses(t){fetch("http://localhost:3000/guesses/add",{method:"post",body:JSON.stringify({userID:this.clientInfo.id,gameID:this.games[t].fixture.id,home_team_goals:this.homeTeam[t],away_team_goals:this.awayTeam[t]}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((t=>t.json())).then((t=>{!1===t.error?(this.toastText="נשמר בהצלחה",console.log("edit successfully"),this.getThisUserGusses()):this.toastText="לא הוזנו נתונים מלאים"}))},getUsers(){fetch(`http://localhost:3000/users/${this.clientInfo.id}`).then((t=>t.json())).then((t=>{for(let e=0;e<t.length;e++)this.currentUserDetail.push(t[e])}))},getAllUsers(){fetch("http://localhost:3000/users/register").then((t=>t.json())).then((t=>{for(let e=0;e<t.length;e++)this.allUsers.push(t[e])}))},editUserPoints(t){fetch("http://localhost:3000/users/",{method:"put",body:JSON.stringify({id:t,points:this.reduceAllSumPoints}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((t=>t.json())).then((t=>{}))},isBeforeTargetTime(t){const e=Date.parse(t),s=(new Date).getTime(),a=(e-s)/6e4;return a<=30},keepGuess(t){if(this.index=t,!1===this.isBeforeTargetTime(this.games[t].fixture.date)){this.userGuessobj={gameID:this.games[t].fixture.id,home_team:{name:this.games[t].teams.home.name,goals:this.homeTeam[t]},away_team:{name:this.games[t].teams.away.name,goals:this.awayTeam[t]}},this.userGuess[t]=this.userGuessobj;const e=this.dataGuess.some((e=>e.gameID===this.games[t].fixture.id));e?this.editGusses(t):this.addToUserGueses(t)}else this.toastText="לא ניתן עוד לנחש עבור משחק זה",console.log("time is over")},editGusses(t){fetch("http://localhost:3000/guesses/",{method:"put",body:JSON.stringify({userID:this.clientInfo.id,gameID:this.games[t].fixture.id,home_team_goals:this.homeTeam[t],away_team_goals:this.awayTeam[t]}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((t=>t.json())).then((t=>{console.log("put successfully"),this.toastText="נשמר בהצלחה"}))},replaceOrderInItems(t,e,s){var a=t[e];t.splice(e,1),t.splice(s,0,a)},editGuessesPointsPerGame(t,e){fetch("http://localhost:3000/guesses/",{method:"put",body:JSON.stringify({userID:t,gameID:e,sum_points:this.userPoints}),headers:{"Content-type":"application/json; charset=UTF-8"}})},async compareResult(t){console.log("compare"),console.log(t),await this.getAllUsersGuesses(t),this.allUsersGuesses.forEach(((t,e)=>{t.id=`${e}`})),console.log(this.allUsersGuesses);for(let e=0;e<this.allUsersGuesses.length;e++)this.items.forEach(((t,s)=>{t.fixture.id==this.allUsersGuesses[e].gameID&&s!==this.allUsersGuesses[e].id&&this.replaceOrderInItems(this.items,s,e)})),this.items[e].fixture.id==this.allUsersGuesses[e].gameID&&this.allUsersGuesses[e].userID==t&&this.items[e].goals.home==this.allUsersGuesses[e].home_team_goals&&this.items[e].goals.away==this.allUsersGuesses[e].away_team_goals?(this.userPoints=6,console.log("even")):this.items[e].fixture.id==this.allUsersGuesses[e].gameID&&this.allUsersGuesses[e].userID==t&&(this.items[e].goals.home>this.items[e].goals.away&&this.allUsersGuesses[e].home_team_goals>this.allUsersGuesses[e].away_team_goals||this.items[e].goals.away>this.items[e].goals.home&&this.allUsersGuesses[e].away_team_goals>this.allUsersGuesses[e].home_team_goals||this.items[e].goals.home===this.items[e].goals.away&&this.allUsersGuesses[e].home_team_goals===this.allUsersGuesses[e].away_team_goals)?(this.userPoints=3,console.log(" almost even")):(this.userPoints=0,console.log(" mot even")),fetch("http://localhost:3000/guesses/",{method:"put",body:JSON.stringify({userID:t,gameID:this.items[e].fixture.id,sum_points:this.userPoints}),headers:{"Content-type":"application/json; charset=UTF-8"}}),this.userresult={gameID:this.items[e].fixture.id,points:this.userPoints,sumPoints:null},this.resultarr[e]=this.userresult,this.sumPoints=this.resultarr.reduce(((t,e)=>e.points+t),0),this.reduceAllSumPoints=this.allUsersGuesses.reduce(((t,e)=>e.sum_points+t),0),console.log(this.reduceAllSumPoints),this.resultarr[e].sumPoints=this.sumPoints,this.editUserPoints(t)}},watch:{games:{handler(t,e){const s=(t,e)=>JSON.stringify(t)===JSON.stringify(e);for(let a=0;a<t.length;a++)("1H"===t[a].fixture.status.short||"2H"===t[a].fixture.status.short||"FT"===t[a].fixture.status.short&&null!==t[a].goals.home&&null!==t[a].goals.away)&&this.testarr.push(t[a]);if(s(this.testarr,this.items))console.log("The arrays have the same elements.");else{console.log("The arrays have different elements."),localStorage.setItem("test",JSON.stringify(this.testarr)),localStorage["test"]&&this.$store.commit("setItems",JSON.parse(localStorage.test)),console.log(this.allUsers);for(let t=0;t<this.allUsers.length;t++)this.compareResult(this.allUsers[t].id)}}},deep:!0,isMobile(){console.log(this.isMobile)}}},gt=wt,bt=(0,k.Z)(gt,it,nt,!1,null,null,null),xt=bt.exports,_t={name:"Match",components:{fixtures:xt}},yt=_t,vt=(0,k.Z)(yt,tt,et,!1,null,null,null),Zt=vt.exports,kt={name:"App",components:{toolbar:T,Tables:Y,Match:Zt},data:()=>({}),beforeMount(){this.checkLocal(),this.checkLocalb()},computed:{clientInfo(){return this.$store.state.clientInfo},items(){return this.$store.state.items}},methods:{checkLocal(){localStorage["user"]&&this.$store.commit("increment",JSON.parse(localStorage.user))},checkLocalb(){localStorage["test"]&&this.$store.commit("setItems",JSON.parse(localStorage.test))}}},Ct=kt,Tt=(0,k.Z)(Ct,l,i,!1,null,null,null),Gt=Tt.exports,St=s(8345),Ut=function(){var t=this,e=t._self._c;return e("login")},jt=[],It=s(9930),Pt=s(5125),$t=s(6313),Ot=function(){var t=this,e=t._self._c;return e(o.Z,{attrs:{id:"inspire"}},[e(u.Z,{attrs:{fluid:"","fill-height":""}},[e(q.Z,{attrs:{"align-center":"","justify-center":""}},[e(ot.Z,{attrs:{xs12:"",sm8:"",md4:""}},[e(st.Z,{staticClass:"elevation-12"},[e($t.Z,{attrs:{dark:"",color:"primary"}},[e(x.qW,[t._v("Login form")])],1),e(at.ZB,[e(Pt.Z,[e(lt.Z,{attrs:{name:"email",label:"email",type:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),e(lt.Z,{attrs:{type:t.show1?"text":"password","append-icon":t.show1?"mdi-eye":"mdi-eye-off",id:"password",name:"password",label:"Password"},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),e(at.h7,[e(b.Z),e(h.Z,{attrs:{color:"success"},on:{click:t.login}},[t._v(" התחבר")]),e(b.Z),e(S.Z,[e(It.Z,{attrs:{persistent:"","max-width":"290"},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e(h.Z,t._g(t._b({attrs:{color:"primary",dark:""}},"v-btn",a,!1),s),[t._v(" הירשם ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(st.Z,[e(at.EB,[e("span",{staticClass:"text-h5"},[t._v("User Profile")])]),e(at.ZB,[e(u.Z,[e(Pt.Z,{ref:"form",attrs:{"lazy-validation":""}},[e(S.Z,[e(X.Z,{attrs:{cols:"12"}},[e(lt.Z,{attrs:{label:"user name"},model:{value:t.usernamea,callback:function(e){t.usernamea=e},expression:"usernamea"}})],1),e(X.Z,{attrs:{cols:"12"}},[e(lt.Z,{attrs:{rules:t.emailRules,label:"Email*",required:""},model:{value:t.emaila,callback:function(e){t.emaila=e},expression:"emaila"}})],1),e(X.Z,{attrs:{cols:"12"}},[e(lt.Z,{attrs:{type:t.show1?"text":"password","append-icon":t.show1?"mdi-eye":"mdi-eye-off",rules:[t.rules.required,t.rules.min],label:"Password*",required:""},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.passworda,callback:function(e){t.passworda=e},expression:"passworda"}})],1),e(X.Z,{attrs:{cols:"12"}},[e(lt.Z,{attrs:{type:t.show2?"text":"password","append-icon":t.show2?"mdi-eye":"mdi-eye-off",rules:[t.rules.required,t.rules.min],label:"Confirm Password*",required:""},on:{"click:append":function(e){t.show2=!t.show2}},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1)],1)],1)],1),e("small",[t._v("*indicates required field")])],1),e(at.h7,[e(b.Z),e(h.Z,{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")]),e(h.Z,{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.register(),t.dialog=!1}}},[t._v(" Save ")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)},Dt=[],Nt={name:"login",props:{source:String},data(){return{show1:!1,show2:!1,emailRules:[t=>!!t||"חובה",t=>/.+@.+\..+/.test(t)||" יש להזין כתובת אימייל חוקית "],rules:{required:t=>!!t||"חובה.",min:t=>t.length>=4||"מינימום 4 תווים"},dialog:!1,username:"",email:"",password:"",usernamea:"",emaila:"",passworda:"",confirmPassword:"",access:!1,id:null}},computed:{clientInfo(){return this.$store.state.clientInfo},localHost(){return this.$store.state.localHost}},mounted(){this.getUsers(),console.log("http://localhost:3000/")},methods:{login(){fetch("http://localhost:3000/users/login",{method:"POST",body:JSON.stringify({email:this.email,password:this.password}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((t=>t.json())).then((t=>{if(!1!==t.error)console.log(t),alert("כתובת מייל או סיסמה לא נכונים");else{console.log("no error"),console.log(t.name);let e={id:t.id,name:t.name,admin:t.admin};localStorage.setItem("user",JSON.stringify(e)),this.checkLocal(JSON.parse(localStorage.user)),this.$router.push("/fixtures")}}))},checkLocal(t){localStorage["user"]&&this.$store.commit("increment",t)},register(){this.$refs.form.validate()&&this.passworda===this.confirmPassword?fetch("http://localhost:3000/users/add",{method:"POST",body:JSON.stringify({userName:this.usernamea,email:this.emaila,password:this.passworda}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((t=>t.json())).then((t=>{!1!==t.error?(console.log(t),alert("שגיאת רישום")):this.passworda!==this.confirmPassword?alert("סיסמאות אינן תואמות"):(console.log("no error"),alert("נרשמת בהצלחה"))})):alert("סיסמאות אינן תואמות")},getUsers(){fetch("http://localhost:3000/users/register").then((t=>t.json())).then((t=>{this.$store.state.users=t,console.log(this.users)}))}},computed:{resultarr(){return this.$store.state.resultarr},users(){return this.$store.state.users}}},Jt=Nt,At=(0,k.Z)(Jt,Ot,Dt,!1,null,null,null),Et=At.exports,Ht={name:"Home",components:{login:Et,toast:pt}},Xt=Ht,qt=(0,k.Z)(Xt,Ut,jt,!1,null,null,null),Bt=qt.exports,Ft=function(){var t=this,e=t._self._c;return e("div",[e("h2",[t._v("Champions League Results")]),e("button",{on:{click:t.downloadJson}},[t._v("Download Games JSON")]),e("ul",t._l(t.games,(function(s){return e("li",{key:s.fixture_id},[t._v(" "+t._s(s.teams.away.name)+" "+t._s(s.goals.away)+" - "+t._s(s.teams.home.name)+" "+t._s(s.goals.home)+" ")])})),0)])},Lt=[],Mt={data(){return{games:[],json:[],odds:[]}},mounted(){},methods:{downloadJson(){const t=JSON.stringify(this.games),e=new Blob([t],{type:"application/json"}),s=URL.createObjectURL(e),a=document.createElement("a");a.href=s,a.download="games.json",document.body.appendChild(a),a.click(),document.body.removeChild(a)},fixtures(){console.log("test"),fetch("https://api-football-v1.p.rapidapi.com/v3/fixtures?league=2&season=2022",{method:"GET",headers:{"x-rapidapi-key":"a93678359bmshec209499c207ebep1758d1jsn22a0484dd70e","x-rapidapi-host":"api-football-v1.p.rapidapi.com"}}).then((t=>t.json())).then((t=>{this.games=t.response,console.log(this.games)})).catch((t=>{console.log(t)}))},oddsfunc(){fetch("https://v3.football.api-sports.io/odds?season=2019&bet=1&bookmaker=6&fixture=157140&league=39",{method:"GET",headers:{"x-rapidapi-host":"v3.football.api-sports.io","x-rapidapi-key":"XxXxXxXxXxXxXxXxXxXxXxXx"}}).then((t=>{console.log(t)})).catch((t=>{console.log(t)}))},fixturesPrem(){console.log("test"),fetch("https://api-football-v1.p.rapidapi.com/v3/fixtures?league=39&season=2022",{method:"GET",headers:{"x-rapidapi-key":"a93678359bmshec209499c207ebep1758d1jsn22a0484dd70e","x-rapidapi-host":"api-football-v1.p.rapidapi.com"}}).then((t=>t.json())).then((t=>{this.games=t.response,console.log(this.games)})).catch((t=>{console.log(t)}))},jsonFunc(){fetch("../games.json").then((t=>t.json())).then((t=>{console.log(t),this.json=t,console.log(this.json)})).catch((t=>{console.log(t)}))}}},Rt=Mt,zt=(0,k.Z)(Rt,Ft,Lt,!1,null,null,null),Qt=zt.exports;a.ZP.use(L.ZP);var Wt=new L.ZP.Store({state:{plugins:[],table:[],resultarr:[],games:[],users:[],clientInfo:{},items:[],localHost:"http://localhost:3000/"},getters:{},mutations:{increment(t,e){t.clientInfo=e},setGames(t,e){t.games=e},setItems(t,e){t.items=e}},actions:{async fetchGames({commit:t}){const e=await fetch("../games.json"),s=await e.json();s.forEach(((t,e)=>{t.fixture.id=e,t.fixture.time=t.fixture.date.substr(11,5),t.fixture.datetoShow=t.fixture.date.substr(0,10),t.fixture.time="22:00","Round of 16"===t.league.round?t.league.round="שמינית גמר":"Quarter-finals"===t.league.round&&(t.league.round="רבע גמר")})),t("setGames",s)}},modules:{}});a.ZP.use(St.ZP);const Vt=[{path:"/",name:"home",component:Bt},{path:"/tables",name:"tables",component:Y},{path:"/carousel",name:"carousel",component:Q},{path:"/test",name:"test",component:Qt,beforeEnter:(t,e,s)=>{const a=Wt.state.clientInfo;a.admin&&"test"===t.name?s():s("/")}},{path:"/fixtures",name:"fixtures",component:xt},{path:"/match:id",name:"match",component:Zt}],Kt=new St.ZP({routes:Vt});var Yt=Kt,te=s(1705);a.ZP.use(te.Z);var ee=new te.Z({rtl:!0});s(8556);a.ZP.config.productionTip=!1,new a.ZP({router:Yt,store:Wt,vuetify:ee,render:t=>t(Gt)}).$mount("#app")}},e={};function s(a){var o=e[a];if(void 0!==o)return o.exports;var r=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(r.exports,r,r.exports,s),r.loaded=!0,r.exports}s.m=t,function(){var t=[];s.O=function(e,a,o,r){if(!a){var l=1/0;for(h=0;h<t.length;h++){a=t[h][0],o=t[h][1],r=t[h][2];for(var i=!0,n=0;n<a.length;n++)(!1&r||l>=r)&&Object.keys(s.O).every((function(t){return s.O[t](a[n])}))?a.splice(n--,1):(i=!1,r<l&&(l=r));if(i){t.splice(h--,1);var c=o();void 0!==c&&(e=c)}}return e}r=r||0;for(var h=t.length;h>0&&t[h-1][2]>r;h--)t[h]=t[h-1];t[h]=[a,o,r]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,r,l=a[0],i=a[1],n=a[2],c=0;if(l.some((function(e){return 0!==t[e]}))){for(o in i)s.o(i,o)&&(s.m[o]=i[o]);if(n)var h=n(s)}for(e&&e(a);c<l.length;c++)r=l[c],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(h)},a=self["webpackChunkworld"]=self["webpackChunkworld"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(3050)}));a=s.O(a)})();
//# sourceMappingURL=app.a31586ee.js.map